@page "/login"
@layout AuthLayout

<div class="login-card">
    <div class="branding-panel">
        <div class="branding-watermark"></div>
        <div class="branding-content">
            <h1 class="branding-title">ECT System</h1>
            <p class="branding-subtitle">Electronic Case Tracking</p>
        </div>
        <p class="branding-footer">DEPARTMENT OF THE AIR FORCE</p>
    </div>
    <div class="login-panel">
        <RadzenTemplateForm TItem="LoginFormModel" Data="@formModel" Submit="@OnSubmit">
            <div class="form-fields">
                <RadzenFormField Text="Username" Variant="Variant.Outlined" class="field-full">
                    <Start>
                        <RadzenIcon Icon="person_outline" />
                    </Start>
                    <ChildContent>
                        <RadzenTextBox Name="Username" @bind-Value="formModel.Username" />
                    </ChildContent>
                    <Helper>
                        <RadzenRequiredValidator Component="Username" Text="Username is required" />
                    </Helper>
                </RadzenFormField>

                <RadzenFormField Text="Password" Variant="Variant.Outlined" class="field-full">
                    <Start>
                        <RadzenIcon Icon="lock_outline" />
                    </Start>
                    <ChildContent>
                        <RadzenPassword Name="Password" @bind-Value="formModel.Password" />
                    </ChildContent>
                    <Helper>
                        <RadzenRequiredValidator Component="Password" Text="Password is required" />
                    </Helper>
                </RadzenFormField>

                @if (!string.IsNullOrEmpty(errorMessage))
                {
                    <RadzenAlert AlertStyle="AlertStyle.Danger"
                                 Variant="Variant.Flat"
                                 ShowIcon="true"
                                 AllowClose="false">
                        @errorMessage
                    </RadzenAlert>
                }

                <RadzenButton ButtonType="ButtonType.Submit"
                              Text="Login"
                              ButtonStyle="ButtonStyle.Primary"
                              Size="ButtonSize.Large"
                              class="login-button" />
            </div>
        </RadzenTemplateForm>
        <div class="login-links">
            <RadzenLink Path="/register" Text="Sign up" />
            <span class="link-divider">|</span>
            <RadzenLink Path="/forgot-password" Text="Forgot Password?" />
        </div>
    </div>
</div>
